## SingleTon (싱글턴 패턴)

- 장점
  - 객체를 하나만 사용할 수 있어, 메모리 낭비를 방지할 수 있다.
  
<br>

- 단점
  - 클래스 간의 의존성을 감춘다.
    - 가독성 면에서 클래스 간의 으존성이 확실히 드러나는 것이 매우 중요 
    - 코드를 읽을 때, 각 함수의 코드 구현 자체를 주의 깊게 살펴봐야함

  - 코드의 확장성에 영향을 미친다.
    - 2개 이상의 인스턴스가 필요한 경우에 코드를 전면적으로 수정해야 한다.
      - ex) 데이터베이스 커넥션 풀을 2개 이상 생성해야 하는 경우
  
  - 코드의 테스트 용이성에 영향을 미친다.
    - 데이터베이스와 같은 외부 리소스에 의존하는 경우 단위 테스트를 작성하기 어렵다.
    ```java
    public class Order {
    public void create(...) { 
      // 모의 구현으로 대체하고 싶으나 대체하기가 어렵다.
      long id = IdGenerator.getInstance().getId();
    }
    ```

  - 매개변수가 있는 생성자를 지원하지 않는다.
    - 커넥션풀의 크기를 지정해야 한다면 불가능하다.
      - 이를 해결하기 위해, init() 과 같은 메서드를 추가하여 매개변수를 전달해야 한다. 
        - getInstance() 와 같은 함수를 호출하기 전에 init() 함수가 먼저 호출되어야 한다.
      - 매개변수를 getInstance(int a, int b) 와 같이 전달 해야 한다.
      - 매개변수를 전역 변수에 넣어야 한다.


- 싱글턴 패턴의 대안
  - 의존성 주입
    - 의존성을 숨기는 문제는 해결하나 코드의 확장성, 테스트 용이성과 같은 문제점이 해결되지 않음 
  - Spring DI Container
    - 생성자 주입   
  - 팩터리 패턴

---
